# Echo Stack - Environment Variables Template
# 
# ⚠️  STRICT MODE: ALL variables must be set - no defaults provided!
# Copy this file to .env and fill in ALL values below
#
# The app will NOT start if any required variables are missing.

# =============================================================================
# REQUIRED FOR ALL ENVIRONMENTS
# =============================================================================

# Application Environment (required)
NODE_ENV=development

# Server Configuration (required)
HOST=localhost
PORT=3000

# Database Configuration (required - choose ONE option)
# 
# OPTION 1: Phoenix-style (Recommended) - Auto-naming based on project + environment
# Set DATABASE_BASE_URL and the system automatically generates database names:
# - Development: echo_stack_starter_dev  
# - Test: echo_stack_starter_test
# - Production: echo_stack_starter
DATABASE_BASE_URL=postgresql://user:password@localhost:5432/
#
# OPTION 2: Legacy style - Explicit database name
# Set DATABASE_URL with the exact database name you want to use:
# DATABASE_URL=postgresql://user:password@localhost:5432/my_custom_database_name
#
# ⚠️  Use ONLY ONE option above - the system automatically detects which style you're using

# BetterAuth Configuration (required)
BETTER_AUTH_SECRET=your-32-character-secret-key-here-change-this
BETTER_AUTH_URL=http://localhost:3000

# JWT Configuration for integrations (required)
JWT_SECRET=your-jwt-secret-for-integrations-change-this
JWT_ISSUER=echo-stack-app

# Logger Configuration (Effect Logger Service) - OPTIONAL
LOG_LEVEL=info               # debug, info, warn, error, success
LOG_FORMAT=console           # console (development) | json (production)
LOG_COLORS=true              # Enable colorized output (development)
LOG_TIMESTAMP=true           # Include timestamps in logs

# =============================================================================
# DEVELOPMENT ENVIRONMENT (when NODE_ENV=development)
# =============================================================================

# Email Configuration - Development (Mailpit) - ALL REQUIRED
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=

# =============================================================================
# PRODUCTION ENVIRONMENT (when NODE_ENV=production)  
# =============================================================================

# Email Configuration - Production (Resend) - REQUIRED FOR PRODUCTION
RESEND_API_KEY=re_your_resend_api_key_here
RESEND_FROM_EMAIL=hello@yourdomain.com

# Security Configuration - Production (CORS) - REQUIRED FOR PRODUCTION
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com,https://*.yourdomain.com

# Note: In development, you can use placeholder values:
# RESEND_API_KEY=re_fake_development_key_not_used
# RESEND_FROM_EMAIL=dev@example.com
# CORS_ALLOWED_ORIGINS not required in development (allows all origins)

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================
#
# 1. Copy this file: cp .env.example .env
# 2. Replace ALL placeholder values above with your actual values
# 3. Generate secrets:
#    - BETTER_AUTH_SECRET: openssl rand -base64 32
#    - JWT_SECRET: openssl rand -base64 32
# 4. Set up your PostgreSQL database
# 5. For development: Install and start Mailpit
# 6. For production: Get Resend API key and set FROM_EMAIL
# 7. Start the app: bun run takeoff
#
# If the app won't start, check the error message - it will tell you 
# exactly which environment variables are missing or invalid.
#
# =============================================================================
# ENVIRONMENT-SPECIFIC REQUIREMENTS
# =============================================================================
#
# Development requires:
# - All basic config above
# - SMTP_* variables for Mailpit
# - Mailpit running on localhost:1025
#
# Production requires:
# - All basic config above  
# - RESEND_* variables for email
# - No localhost URLs
# - Secrets must be 32+ characters
#
# Test requires:
# - Same as development
# - Can use test database URLs
# - All secrets can be test values
#
# =============================================================================